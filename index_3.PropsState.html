<!-- index_3.PropsState -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Example</title>
  </head>
  <body>
    <div id="root"></div>
    <script
      crossorigin
      src="https://unpkg.com/react@17/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
      console.log(React);
      console.log(ReactDOM);

      // // 1. 함수 컴포넌트
      // function Component(props) {
      //   return (
      //     <div>
      //       <h1>{props.message} 이것은 함수로 만든 컴포넌트 입니다.</h1>
      //     </div>
      //   );
      // }

      // Component.defaultProps = {
      //   message: "함수 컴포넌트 기본값",
      // };

      // 2. class 컴포넌트
      class Component extends React.Component {
        // 1. state 설정 방법
        // state = {
        //   // state는 객체 형태로만 지정할 수 있다
        //   count: 0,
        // };

        // 2. state 설정 방법(constructor 생성자 함수를 사용하여 사용)
        constructor(props) {
          super(props);
          //
          this.state = { count: 0 };
        }

        render() {
          return (
            <div>
              <h1>
                {this.props.message} 이것은 클래스를 상속하여 만든 컴포넌트
                입니다.
              </h1>
              <p>{this.state.count}</p>
            </div>
          );
        }

        componentDidMount() {
          // life cycle hoot 중 하나
          setTimeout(() => {
            //
            // this.state.count = this.state.count + 1; (이렇게 쓰면 render 되지 않음)

            // // 1. 정상 사용 방법(객체를 통체로 만들어서 하는 방법)
            // this.setState({
            //   // this.setState({s: '새 스테이트'}); // state 값 업데이트
            //   count: this.state.count + 1,
            // });

            // 2. 정상 사용 방법 (앞에값(previousState)을 이용해서 하는 방식)
            this.setState((previousState) => {
              const newState = { count: previousState.count + 1 };
              return newState;
            });
          }, 1000);
        }

        static defaultProps = {
          message: "기본값2",
        };
      }

      // Component.defaultProps = { // static 주석 처리 한 경우 해당 주석 해제
      //   message: "기본값",
      // };

      ReactDOM.render(
        // <Component message="안녕하세요!!!" />,
        <Component message="기본값 아님" />,
        document.querySelector("#root")
      );
    </script>
  </body>
</html>
